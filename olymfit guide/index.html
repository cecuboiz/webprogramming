<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>올림핏 가이드</title>

  <!-- 메인 화면 전용 CSS -->
  <link rel="stylesheet" href="css/main.css" />
</head>
<body>
  <!-- 상단 헤더 / 네비게이션 -->
  <header class="header">
    <div class="header__inner">
      <div class="logo">
        <!-- 로고 텍스트(원하면 이미지로 교체 가능) -->
        <span class="logo__title">올림핏 가이드</span>
        <span class="logo__subtitle">강좌 · 시설 맞춤 추천</span>
      </div>

      <nav class="nav">
        <ul class="nav__list">
          <li><a href="index.html" class="nav__link nav__link--active">홈</a></li>
          <li><a href="course.html" class="nav__link">강좌 추천</a></li>
          <li><a href="facilities.html" class="nav__link">시설 추천</a></li>
          <li><a href="stats.html" class="nav__link">이용현황/통계</a></li>
        </ul>
      </nav>

      <!-- <div class="header__actions">
        <button class="btn btn--outline" id="btn-login">로그인</button>
        <button class="btn btn--primary" id="btn-signup">회원가입</button>
      </div> -->
      
      <!-- ✅ 모바일용 햄버거 버튼 -->
      <button class="nav__toggle" type="button" aria-label="메뉴 열기">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- 메인 콘텐츠 -->
  <main>
    <!-- 히어로 섹션: 큰 소개 + 메인 검색/추천 버튼 -->
    <section class="hero">
      <div class="hero__inner">
        <div class="hero__text">
          <h1>내 생활권 · 인구 · 날씨에 딱 맞는<br />올림픽 스포츠센터 추천</h1>
          <p class="hero__desc">
            어디서 어떤 운동을 해야 할지 고민된다면?<br />
            생활권, 연령대, 날씨 데이터를 기반으로 <strong>맞춤형 강좌·시설</strong>을 추천해 드립니다.
          </p>

          <div class="hero__actions">
            <button class="btn btn--primary" id="btn-main-recommend">
              지금 바로 추천받기
            </button>
            <button class="btn btn--ghost" id="btn-how-it-works">
              서비스 소개 보기
            </button>
          </div>
        </div>

        <div class="hero__panel">
          <!-- 메인 필터 카드: JS로 값 읽어서 API 요청 -->
          <div class="filter-card">
            <h2>빠른 맞춤 추천</h2>

            <div class="filter-card__group">
              <label for="regionSelect">생활권(지역)</label>
              <select id="regionSelect">
                <option value="">선택하세요</option>
                <option value="olympicpark">서울 올림픽공원</option>
                <option value="bundang">분당 올림픽 스포츠센터</option>
                <option value="ilsan">일산 올림픽 스포츠센터</option>
                <!-- 필요하면 더 추가 -->
              </select>
            </div>

            <div class="filter-card__group">
              <label for="ageRange">연령대</label>
              <select id="ageRange">
                <option value="">선택하세요</option>
                <option value="teen">10대</option>
                <option value="twenties">20대</option>
                <option value="thirties">30대</option>
                <option value="forties">40대</option>
                <option value="fifties">50대</option>
                <option value="senior">60대 이상</option>
              </select>
            </div>

            <div class="filter-card__group">
              <label for="interestType">관심 운동 종목</label>
              <select id="interestType">
                <option value="">선택하세요</option>
                <option value="swim">수영</option>
                <option value="fitness">헬스/피트니스</option>
                <option value="yoga">요가/필라테스</option>
                <option value="court">실내코트(배드민턴/농구 등)</option>
                <option value="kids">어린이 강좌</option>
              </select>
            </div>

            <div class="filter-card__group filter-card__group--inline">
              <label>오늘 날씨 반영</label>
              <label class="toggle">
                <input type="checkbox" id="weatherToggle" checked />
                <span class="toggle__slider"></span>
                <span class="toggle__label">ON</span>
              </label>
            </div>

            <button class="btn btn--primary filter-card__submit" id="btn-filter-recommend">
              조건으로 추천 받기
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- 추천 카드 섹션 -->
    <section class="section section--recommend">
      <div class="section__header">
        <h2>현재 조건에 맞는 추천 강좌 · 시설</h2>
        <p class="section__subtitle" id = "mainRecommendInfo">
          조건을 선택하면 나에게 맞는 강좌·시설을 추천해 드립니다.
        </p>
      </div>

      <div class="card-grid" id="recommendationList">
        <!-- JS에서 API로 받아온 추천 카드들을 여기에 append -->
        <!-- 예시 카드 (디자인 확인용 더미) -->
        
      </div>
    </section>

    <!-- 공지/소개 섹션 -->
    <section class="section section--info">
      <div class="section__header">
        <h2>서비스 안내</h2>
      </div>
      <div class="info-grid">
        <div class="info-card">
          <h3>생활권·인구 데이터 기반</h3>
          <p>
            행정구역, 인구구성 데이터를 이용해 <strong>연령대별 인기 강좌</strong>를 분석하여 추천합니다.
          </p>
        </div>
        <div class="info-card">
          <h3>날씨 연계 추천</h3>
          <p>
            실시간 날씨 정보를 반영해 <strong>실내/실외 운동</strong> 중 더 적절한 선택을 도와줍니다.
          </p>
        </div>
        <div class="info-card">
          <h3>월 회원 이용현황 반영</h3>
          <p>
            월별 이용자 수, 혼잡 시간대 등의 데이터를 기반으로 <strong>한산한 시간대</strong>를 알려줍니다.
          </p>
        </div>
      </div>
    </section>
  </main>
  </main>

  <!-- 하단 푸터 -->
  <footer class="footer">
    <div class="footer__inner">
      <p>© 2025 올림픽 스포츠센터 맞춤 추천 웹서비스</p>
      <p class="footer__links">
        <a href="#" id="btn-qr-guide">QR 접속 안내</a> ·
        <a href="#" id="btn-privacy">개인정보처리방침</a>
      </p>
    </div>
  </footer>

  <!-- ✅ QR 코드 모달 -->
  <div id="qr-modal" class="qr-modal">
    <div class="qr-modal__content">
      <button type="button" class="qr-modal__close" id="qr-modal-close">×</button>
      <h2 class="qr-modal__title">QR 코드로 접속하기</h2>
      <p class="qr-modal__desc">
        스마트폰 카메라로 아래 QR 코드를 스캔하면<br />
        현재 페이지로 바로 접속할 수 있어요.
      </p>
      <div id="site-qrcode" class="qr-modal__qrcode"></div>
      <p id="site-url-text" class="qr-modal__url"></p>
    </div>
  </div>

  <!-- 메인 화면 전용 JS -->
  <script src="js/main.js" defer></script>

  <!-- QR 코드 생성 라이브러리 -->
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

  <!-- ✅ QR 모달 + QR 코드 생성 스크립트 -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const qrLink      = document.getElementById('btn-qr-guide');
      const modal       = document.getElementById('qr-modal');
      const closeBtn    = document.getElementById('qr-modal-close');
      const qrContainer = document.getElementById('site-qrcode');
      const urlTextEl   = document.getElementById('site-url-text');

      if (!qrContainer) return;

      // 📌 QR에 넣을 주소 (index.html은 깔끔하게 제거)
      const url = 'https://jeonghun-k.github.io/webp-test/webp-final1/index.html';

      // 주소 텍스트 표시
      if (urlTextEl) {
        urlTextEl.textContent = url;
      }

      // 📱 QR 코드 한 번 생성
      new QRCode(qrContainer, {
        text: url,
        width: 160,
        height: 160,
        correctLevel: QRCode.CorrectLevel.H
      });

      // 모달 열기
      function openModal(e) {
        if (e) e.preventDefault();
        modal.classList.add('is-open');
      }

      // 모달 닫기
      function closeModal() {
        modal.classList.remove('is-open');
      }

      if (qrLink) {
        qrLink.addEventListener('click', openModal);
      }

      if (closeBtn) {
        closeBtn.addEventListener('click', closeModal);
      }

      // 모달 바깥 클릭 시 닫기 (배경 클릭)
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeModal();
        }
      });
    });
  </script>
</body>
</html>